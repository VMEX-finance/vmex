"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function AddressUtils(ethers) {
    const { provider, BigNumber: BN, constants, utils: { hexValue, isAddress }, } = ethers;
    const isValid = (address) => isAddress(address);
    const balance = (address) => {
        return provider.getBalance(address);
    };
    const balanceEth = (address) => {
        return balance(address).then(balanceWei => balanceWei.div(constants.WeiPerEther));
    };
    const setBalance = (address, balance) => {
        if (!BN.isBigNumber(balance)) {
            balance = BN.from(balance);
        }
        return provider.send('hardhat_setBalance', [address, hexValue(balance)]);
    };
    const impersonate = async (address) => {
        await provider.send('hardhat_impersonateAccount', [address]);
        return ethers.getSigner(address);
    };
    const stopImpersonating = (address) => {
        return provider.send('hardhat_stopImpersonatingAccount', [address]);
    };
    return {
        isValid,
        balance,
        balanceEth,
        setBalance,
        impersonate,
        stopImpersonating,
    };
}
exports.default = AddressUtils;
//# sourceMappingURL=address.js.map